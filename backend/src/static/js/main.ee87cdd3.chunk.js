(this.webpackJsonpshop_frontend=this.webpackJsonpshop_frontend||[]).push([[0],{200:function(e,t,n){e.exports=n(380)},380:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),i=n(28),c=n(35),u=n(43),m=n(67),s=n(13),p=n(80),d=n.n(p),g=n(384),h=n(383),f=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={Meals:[{meal_name:"",description:"",price_tag:""}],list:["a"]},e}return Object(c.a)(n,[{key:"componentWillMount",value:function(){var e=this;d.a.get("https://shop-281014.nw.r.appspot.com/api/").then((function(t){e.setState({Meals:t.data,list:["b"]}),console.log(t.data),console.log(e.state.Meals[0].meal_name)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"75%",margin:"auto"}},r.a.createElement(g.b,{style:{margin:"auto",minInlineSize:"100%"},grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:5,xxl:5},dataSource:this.state.Meals,renderItem:function(e){return r.a.createElement(g.b.Item,null,r.a.createElement(h.a,{title:e.meal_name,extra:r.a.createElement("a",{href:"/"},"More")},r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.price_tag)))}}))}}]),n}(r.a.Component),E=n(180),b=n(385),v=n(388),y=n(389),O=n(137),k=n(386),w=n(66),S=n(49),_=r.a.createElement(k.a,{type:"loading",style:{fontSize:24},spin:!0}),j=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){console.log("1"),t.preventDefault(),e.props.form.validateFields((function(t,n){t||e.props.onAuth(n.userName,n.password)}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=null;return this.props.error&&(e=r.a.createElement("p",null,this.props.error.message)),r.a.createElement("div",{style:{width:"50%",margin:"auto"}},e,this.props.loading?r.a.createElement(E.a,{indicator:_}):r.a.createElement(b.a,{onSubmit:this.handleSubmit,name:"basic",initialValues:{remember:!0}},r.a.createElement(b.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(v.a,null)),r.a.createElement(b.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(v.a.Password,null)),r.a.createElement(b.a.Item,{name:"remember",valuePropName:"checked"},r.a.createElement(y.a,null,"Remember me")),r.a.createElement(b.a.Item,null,r.a.createElement(O.a,{onClick:this.handleSubmit,type:"submit",html:"submit",style:{marginRight:"10px"}},"Login"),"Or",r.a.createElement(S.c,{style:{marginRight:"10px"},to:"/signup"},"Sign Up"))))}}]),n}(r.a.Component),T=Object(w.b)((function(e){return{loading:e.loading,error:e.error}}))(j),I=function(){return r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/",component:f}),r.a.createElement(s.a,{exact:!0,path:"/login",component:T}))},A=(n(377),n(382)),x=n(387),U=A.a.Header,C=A.a.Content,D=function(e){return r.a.createElement(A.a,null,r.a.createElement(U,{className:"header"},r.a.createElement("div",{className:"logo"}),r.a.createElement(x.a,{style:{float:"right"},theme:"dark",mode:"horizontal"},e.isAuthenticated?r.a.createElement(x.a.Item,{key:"1"},"Logout"):r.a.createElement(x.a.Item,{key:"1"},r.a.createElement(S.b,{to:"/login"},"Login")))),r.a.createElement(A.a,null,r.a.createElement(A.a,{style:{padding:"0 24px 24px"}},r.a.createElement(C,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},e.children))))},H=function(e){return{type:"AUTH_SUCCES",token:e}},M=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},L=function(e){return function(t){setTimeout((function(){t(M())}),1e3*e)}},N=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(D,this.props,r.a.createElement(I,null))))}}]),n}(a.Component),P=Object(w.b)((function(e){return{isAuthenticated:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(M());else{var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(M()):(e(H(t)),e(L(n.getTime()-(new Date).getTime())/1e3))}}))}}}))(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(73),z=n(197),W=n(136),q=function(e,t){return Object(W.a)(Object(W.a)({},e),t)},B={token:null,error:null,loading:!1},F=function(e,t){return q(e,{error:null,loading:!0})},G=function(e,t){return q(e,{token:t.token,error:null,loading:!1})},J=function(e,t){return q(e,{token:t.token,error:t.error,loading:!1})},V=function(e,t){return q(e,{token:null})},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return F(e);case"AUTH_SUCCES":return G(e,t);case"AUTH_FAIL":return J(e,t);case"AUTH_LOGOUT":return V(e);default:return e}},$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,K=Object(R.d)(X,$(Object(R.a)(z.a))),Q=r.a.createElement(w.a,{store:K},r.a.createElement(P,null));l.a.render(Q,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[200,1,2]]]);
//# sourceMappingURL=main.ee87cdd3.chunk.js.map